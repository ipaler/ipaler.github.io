<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: rails | CNHALO]]></title>
  <link href="http://cnhalo.com/blog/categories/rails/atom.xml" rel="self"/>
  <link href="http://cnhalo.com/"/>
  <updated>2014-10-30T18:39:13+08:00</updated>
  <id>http://cnhalo.com/</id>
  <author>
    <name><![CDATA[HENRY_HUANGS]]></name>
    <email><![CDATA[huangyijie1989@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Rails学习笔记-11.2]]></title>
    <link href="http://cnhalo.com/blog/2013/02/12/railsxue-xi-bi-ji/"/>
    <updated>2013-02-12T21:41:00+08:00</updated>
    <id>http://cnhalo.com/blog/2013/02/12/railsxue-xi-bi-ji</id>
    <content type="html"><![CDATA[<p>11.2 迭代F2:建立一个基于Ajax的购物车</p>

<p>开始是按照书里面写的，创建create.js.rjs，</p>

<p>网上查了，需要使用protype-rails gem，于是安装了，但是页面点击后ajax没有效果，需要手动刷新后才能出现。</p>

<p>于是在网上查了,由于默认使用jquery，所以就改成了jquery的，创建create.js.erb，内容为$('#cart').html("&lt;%= escape_javascript(render(@cart)) %>");</p>

<p>按照网上仁兄的做法来的：</p>

<p>1.\app\views\layouts\application.html.erb
&lt;%= javascript_include_tag :defaults %> to &lt;%= javascript_include_tag "application" %>
2.app/views/line_items/create.js.rjs 成create.js.erb，并修改内容：
$('#cart').html("&lt;%= escape_javascript(render(@cart)) %>");</p>

<p>3.修改line_items_controller中的create方法， 加入format.js</p>

<p>传送门:<a href="http://ruby-china.org/topics/6154" target="_blank">RubyChina</a></p>
]]></content>
  </entry>
  
</feed>
